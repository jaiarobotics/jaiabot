$app_block
$interprocess_block

fleet_id: $fleet_id
bot_id: $bot_id

command_sub_cfg {
    intervehicle
    {
        # buffer configuration for the Command messages
        buffer {
            ack_required: true
            blackout_time: 0
            max_queue: 3
            newest_first: true
            ttl: 60
            value_base: 1000
        }
    }
}

dive_depth_eps: 0.1  #  (optional) (default=0.1)
surfacing_timeout: 35  #  (optional) (default=35)
# rc_setpoint_end: RC_SETPOINT_ENDS_IN_STATIONKEEP  # OR RC_SETPOINT_ENDS_IN_SURFACE_DRIFT
rc_setpoint_end: RC_SETPOINT_ENDS_IN_SURFACE_DRIFT
bottoming_timeout: 3 # (optional) (default=3)
detect_bottom_logic_init_timeout: 10 # (optional) (default=10)
pre_powered_descent_timeout: 10 # (optional) (default=10)
powered_descent_timeout: 60 # (default=60) 
dive_surface_eps: 0.75 # (optional) (default=0.75)
hard_bottom_type_acceleration: 100 # (optional) (default=100)

# GPS Requirements in Transit
total_gps_fix_checks: 10 # (optional) (default=10)
total_gps_degraded_fix_checks: 2 # (optional) (default=2)
gps_hdop_fix: 1.3 # (optional) (default=1.3)
gps_pdop_fix: 2.2 # (optional) (default=2.2)

# GPS Requirements after a Dive 
total_after_dive_gps_fix_checks: $total_after_dive_gps_fix_checks # (optional) (default=15 for electronics stack 1, default=75 for electronics stack 1,2)
gps_after_dive_hdop_fix: 1.3 # (optional) (default=1.3)
gps_after_dive_pdop_fix: 2.2 # (optional) (default=2.2)

# Data offload
data_offload_command: "jaiabot-dataoffload.sh $log_dir"  #  (required)
log_dir: "$log_dir" # (required)
hub_start_ip: 10 # (required)
class_b_network: "10.23" # (required)
data_offload_only_task_packet_file: false # (optional)

# Can enable one or more test modes to override normal operational settings
#test_mode: ENGINEERING_TEST__ALWAYS_LOG_EVEN_WHEN_IDLE
#test_mode: ENGINEERING_TEST__INDOOR_MODE__NO_GPS

# test_mode: ENGINEERING_TEST__IGNORE_SOME_ERRORS
# ignore_error: ERROR__MISSING_DATA__PRESSURE

# When to stop logging in a failed state
failed_startup_log_timeout: 300 # (optional) (default=300)

is_sim: $mission_manager_in_simulation

# Goal Timeout Behavior
goal_timeout_buffer_factor: 1.00 # (default = 1)
goal_timeout_reacquire_gps_attempts: 2 # (default = 2)
use_goal_timeout: false # (default = false)
tpv_history_max: 15 # (default = 15)
skip_goal_task: false # (default = false)
include_goal_timeout_states: IN_MISSION__UNDERWAY__MOVEMENT__TRANSIT
include_goal_timeout_states: IN_MISSION__UNDERWAY__MOVEMENT__REACQUIRE_GPS
include_goal_timeout_states: IN_MISSION__UNDERWAY__RECOVERY__TRANSIT
include_goal_timeout_states: IN_MISSION__UNDERWAY__RECOVERY__REACQUIRE_GPS

# Bottom depth safety behavior
min_depth_safety: 0 # (default = 0)

# IMU Restart State Timeout
imu_restart_seconds: 10 # (default = 10)

# If using wifi we need to subscribe to the hub on start, since the hub doesn't know what bots are running
$subscribe_to_hub_on_start
